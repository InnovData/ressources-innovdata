"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dom=document.querySelector("html");!function(e,r){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).Pristine=r()}(void 0,function(){var c={en:{required:"This field is required",email:"This field requires a valid e-mail address",number:"This field requires a number",integer:"This field requires an integer value",url:"This field requires a valid website URL",tel:"This field requires a valid telephone number",maxlength:"This fields length must be < ${1}",minlength:"This fields length must be > ${1}",min:"Minimum value for this field is ${1}",max:"Maximum value for this field is ${1}",pattern:"Please match the requested format",equals:"The two fields do not match",default:"Please enter a correct value"},fr:{required:"Ce champ est obligatoire",email:"Ce champ nécessite une adresse e-mail valide",number:"Ce champ requiert un numéro",integer:"Ce champ requiert une valeur entière",url:"Ce champ requiert une URL de site web valide",tel:"Ce champ requiert un numéro de téléphone valide",maxlength:"La longueur de ce champ doit être < ${1}",minlength:"La longueur de ce champ doit être > ${1}",min:"La valeur minimale de ce champ est ${1}",max:"La valeur maximale de ce champ est ${1}",pattern:"Veuillez respecter le format demandé",equals:"Les deux champs ne correspondent pas"}};function m(e){var t=arguments;return this.replace(/\${([^{}]*)}/g,function(e,r){return t[r]})}function t(e){return e.pristine.self.form.querySelectorAll('input[name="'+e.getAttribute("name")+'"]:checked').length}function a(e,r){r.name=e,void 0===r.priority&&(r.priority=1),v[e]=r}var e,s={classTo:"field__row",errorClass:"field--danger",successClass:"field--success",errorTextParent:"field__row",errorTextTag:"div",errorTextClass:"form__message"},p="pristine-error",d=["required","min","max","minlength","maxlength","pattern"],r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=/^(?:0|\(?\+33\)?\s?|0033\s?)[1-79](?:[\.\-\s]?\d\d){4}$/,h=/-message(?:-([a-z]{2}(?:_[A-Z]{2})?))?/,g=null==(e=dom).lang?"fr":e.lang,v={};function i(e,r,t){var n,i,a,o=this;function l(e,r,t,n){var i,a=v[t];a&&(e.push(a),n&&((i="pattern"===t?[n]:n.split(",")).unshift(null),r[t]=i))}function u(e){if(e.errorElements)return e.errorElements;var r=function(e,r){for(;(e=e.parentElement)&&!e.classList.contains(r););return e}(e.input,o.config.classTo),t=null,n=null;return(t=o.config.classTo===o.config.errorTextParent?r:r.querySelector("."+o.config.errorTextParent))&&((n=t.querySelector("."+p))||((n=document.createElement(o.config.errorTextTag)).className=p+" "+o.config.errorTextClass,t.appendChild(n),n.pristineDisplay=n.style.display)),e.errorElements=[r,n]}function f(e){var r=u(e),t=r[0],n=r[1],i=e.input,a="error-"+(i.id||Math.floor((new Date).valueOf()*Math.random()));t&&(t.classList.remove(o.config.successClass),t.classList.add(o.config.errorClass),i.setAttribute("aria-describedby",a),i.setAttribute("aria-invalid","true")),n&&(n.setAttribute("id",a),n.setAttribute("role","alert"),n.innerHTML=e.errors.join("<br/>"),n.style.display=n.pristineDisplay||"")}return i=r,a=t,(n=e).setAttribute("novalidate","true"),o.form=n,o.config=function(e,r){for(var t in r)t in e||(e[t]=r[t]);return e}(i||{},s),o.live=!(!1===a),o.fields=Array.from(n.querySelectorAll("input:not([type^=hidden]):not([type^=submit]), select, textarea")).map(function(e){var i=[],a={},s={};return[].forEach.call(e.attributes,function(e){if(/^data-pristine-/.test(e.name)){var r=e.name.substr(14),t=r.match(h);if(null!==t){var n=void 0===t[1]?"en":t[1];return s.hasOwnProperty(n)||(s[n]={}),void(s[n][r.slice(0,r.length-t[0].length)]=e.value)}"type"===r&&(r=e.value),l(i,a,r,e.value)}else~d.indexOf(e.name)?l(i,a,e.name,e.value):"type"===e.name&&l(i,a,e.value)}),i.sort(function(e,r){return r.priority-e.priority}),o.live&&e.addEventListener(~["radio","checkbox"].indexOf(e.getAttribute("type"))?"change":"input",function(e){o.validate(e.target)}.bind(o)),e.pristine={input:e,validators:i,params:a,messages:s,self:o}}.bind(o)),o.validate=function(e,r){r=e&&!0===r||!0===e;var t=o.fields;!0!==e&&!1!==e&&(e instanceof HTMLElement?t=[e.pristine]:(e instanceof NodeList||e instanceof(window.$||Array)||e instanceof Array)&&(t=Array.from(e).map(function(e){return e.pristine})));for(var n,i=!0,a=0;t[a];a++){var s=t[a];!function(e){for(var r=[],t=!0,n=0;e.validators[n];n++){var i=e.validators[n],a=e.params[i.name]?e.params[i.name]:[];if(a[0]=e.input.value,!i.fn.apply(e.input,a)&&(t=!1,"function"==typeof i.msg?r.push(i.msg(e.input.value,a)):"string"==typeof i.msg?r.push(m.apply(i.msg,a)):i.msg===Object(i.msg)&&i.msg[g]?r.push(m.apply(i.msg[g],a)):e.messages[g]&&e.messages[g][i.name]?r.push(m.apply(e.messages[g][i.name],a)):c[g]&&c[g][i.name]?r.push(m.apply(c[g][i.name],a)):r.push(m.apply(c[g].default,a)),!0===i.halt))break}return e.errors=r,t}(s)?(i=!1,r||f(s)):r||(n=void 0,(n=function(e){var r=u(e),t=r[0],n=r[1],i=e.input;t&&(t.classList.remove(o.config.errorClass),t.classList.remove(o.config.successClass),i.removeAttribute("aria-describedby"),i.removeAttribute("aria-invalid"));n&&(n.removeAttribute("id"),n.removeAttribute("role"),n.innerHTML="",n.style.display="none");return r}(s)[0])&&n.classList.add(o.config.successClass))}return i},o.getErrors=function(e){if(e)return(!e.tagName||"select"!==e.tagName.toLowerCase())&&e.length?e[0].pristine.errors:e.pristine.errors;for(var r=[],t=0;t<o.fields.length;t++){var n=o.fields[t];n.errors.length&&r.push({input:n.input,errors:n.errors})}return r},o.addValidator=function(e,r,t,n,i){e instanceof HTMLElement?(e.pristine.validators.push({fn:r,msg:t,priority:n,halt:i}),e.pristine.validators.sort(function(e,r){return r.priority-e.priority})):console.warn("The parameter elem must be a dom element")},o.addError=function(e,r){(e=e.length?e[0]:e).pristine.errors.push(r),f(e.pristine)},o.reset=function(){for(var e=0;o.fields[e];e++)o.fields[e].errorElements=null;Array.from(o.form.querySelectorAll("."+p)).map(function(e){e.parentNode.removeChild(e)}),Array.from(o.form.querySelectorAll("."+o.config.classTo)).map(function(e){e.classList.remove(o.config.successClass),e.classList.remove(o.config.errorClass)})},o.destroy=function(){o.reset(),o.fields.forEach(function(e){delete e.input.pristine}),o.fields=[]},o.setGlobalConfig=function(e){s=e},o}return a("text",{fn:function(){return!0},priority:0}),a("required",{fn:function(e){return"radio"===this.type||"checkbox"===this.type?t(this):void 0!==e&&""!==e.trim()},priority:99,halt:!0}),a("tel",{fn:function(e){return!e||n.test(e)}}),a("email",{fn:function(e){return!e||r.test(e)}}),a("number",{fn:function(e){return!e||!isNaN(parseFloat(e))},priority:2}),a("integer",{fn:function(e){return!e||/^\d+$/.test(e)}}),a("minlength",{fn:function(e,r){return!e||e.length>=parseInt(r)}}),a("maxlength",{fn:function(e,r){return!e||e.length<=parseInt(r)}}),a("min",{fn:function(e,r){return!e||("checkbox"===this.type?t(this)>=parseInt(r):parseFloat(e)>=parseFloat(r))}}),a("max",{fn:function(e,r){return!e||("checkbox"===this.type?t(this)<=parseInt(r):parseFloat(e)<=parseFloat(r))}}),a("pattern",{fn:function(e,r){var t=r.match(new RegExp("^/(.*?)/([gimy]*)$"));return!e||new RegExp(t[1],t[2]).test(e)}}),a("equals",{fn:function(e,r){var t=document.querySelector(r);return t&&(!e&&!t.value||t.value===e)}}),i.addValidator=function(e,r,t,n,i){a(e,{fn:r,msg:t,priority:n,halt:i})},i.addMessages=function(e,t){var n=c.hasOwnProperty(e)?c[e]:c[e]={};Object.keys(t).forEach(function(e,r){n[e]=t[e]})},i.setLocale=function(e){g=e},i});