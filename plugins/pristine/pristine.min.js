const dom=document.querySelector("html");!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).Pristine=r()}(this,function(){"use strict";var e={en:{required:"This field is required",email:"This field requires a valid e-mail address",number:"This field requires a number",integer:"This field requires an integer value",url:"This field requires a valid website URL",tel:"This field requires a valid telephone number",maxlength:"This fields length must be < ${1}",minlength:"This fields length must be > ${1}",min:"Minimum value for this field is ${1}",max:"Maximum value for this field is ${1}",pattern:"Please match the requested format",equals:"The two fields do not match",default:"Please enter a correct value"},fr:{required:"Ce champ est obligatoire",email:"Ce champ n\xe9cessite une adresse e-mail valide",number:"Ce champ requiert un num\xe9ro",integer:"Ce champ requiert une valeur enti\xe8re",url:"Ce champ requiert une URL de site web valide",tel:"Ce champ requiert un num\xe9ro de t\xe9l\xe9phone valide",maxlength:"La longueur de ce champ doit \xeatre < ${1}",minlength:"La longueur de ce champ doit \xeatre > ${1}",min:"La valeur minimale de ce champ est ${1}",max:"La valeur maximale de ce champ est ${1}",pattern:"Veuillez respecter le format demand\xe9",equals:"Les deux champs ne correspondent pas"}};function r(e){var r=arguments;return this.replace(/\${([^{}]*)}/g,function(e,t){return r[t]})}function t(e){return e.pristine.self.form.querySelectorAll('input[name="'+e.getAttribute("name")+'"]:checked').length}var n,i={classTo:"field__row",errorClass:"field--danger",successClass:"field--success",errorTextParent:"field__row",errorTextTag:"div",errorTextClass:"form__message"},s="pristine-error",a=["required","min","max","minlength","maxlength","pattern"],o=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,l=/-message(?:-([a-z]{2}(?:_[A-Z]{2})?))?/;let u;var f=u=void 0==(n=dom).lang?"fr":n.lang,c={},m=function e(r,t){t.name=r,void 0===t.priority&&(t.priority=1),c[r]=t};function d(t,n,o){var u,m,d,p=this;function h(e,r,t,n){var i=c[t];if(i&&(e.push(i),n)){var s="pattern"===t?[n]:n.split(",");s.unshift(null),r[t]=s}}function v(t){for(var n=[],i=!0,s=0;t.validators[s];s++){var a=t.validators[s],o=t.params[a.name]?t.params[a.name]:[];if(o[0]=t.input.value,!a.fn.apply(t.input,o)&&(i=!1,"function"==typeof a.msg?n.push(a.msg(t.input.value,o)):"string"==typeof a.msg?n.push(r.apply(a.msg,o)):a.msg===Object(a.msg)&&a.msg[f]?n.push(r.apply(a.msg[f],o)):t.messages[f]&&t.messages[f][a.name]?n.push(r.apply(t.messages[f][a.name],o)):e[f]&&e[f][a.name]?n.push(r.apply(e[f][a.name],o)):n.push(r.apply(e[f].default,o)),!0===a.halt))break}return t.errors=n,i}function g(e){if(e.errorElements)return e.errorElements;var r=function e(r,t){for(;(r=r.parentElement)&&!r.classList.contains(t););return r}(e.input,p.config.classTo),t=null,n=null;return(t=p.config.classTo===p.config.errorTextParent?r:r.querySelector("."+p.config.errorTextParent))&&!(n=t.querySelector("."+s))&&((n=document.createElement(p.config.errorTextTag)).className=s+" "+p.config.errorTextClass,t.appendChild(n),n.pristineDisplay=n.style.display),e.errorElements=[r,n]}function y(e){var r=g(e),t=r[0],n=r[1],i=e.input,s="error-"+(i.id||Math.floor(new Date().valueOf()*Math.random()));t&&(t.classList.remove(p.config.successClass),t.classList.add(p.config.errorClass),i.setAttribute("aria-describedby",s),i.setAttribute("aria-invalid","true")),n&&(n.setAttribute("id",s),n.setAttribute("role","alert"),n.innerHTML=e.errors.join("<br/>"),n.style.display=n.pristineDisplay||"")}function b(e){var r,t,n,i,s,a=(r=e,n=(t=g(r))[0],i=t[1],s=r.input,n&&(n.classList.remove(p.config.errorClass),n.classList.remove(p.config.successClass),s.removeAttribute("aria-describedby"),s.removeAttribute("aria-invalid")),i&&(i.removeAttribute("id"),i.removeAttribute("role"),i.innerHTML="",i.style.display="none"),t)[0];a&&a.classList.add(p.config.successClass)}return u=t,m=n,d=o,u.setAttribute("novalidate","true"),p.form=u,p.config=function e(r,t){for(var n in t)n in r||(r[n]=t[n]);return r}(m||{},i),p.live=!1!==d,p.fields=Array.from(u.querySelectorAll("input:not([type^=hidden]):not([type^=submit]), select, textarea")).map((function(e){var r=[],t={},n={};return[].forEach.call(e.attributes,function(e){if(/^data-pristine-/.test(e.name)){var i=e.name.substr(14),s=i.match(l);if(null!==s){var o=void 0===s[1]?"en":s[1];n.hasOwnProperty(o)||(n[o]={}),n[o][i.slice(0,i.length-s[0].length)]=e.value;return}"type"===i&&(i=e.value),h(r,t,i,e.value)}else~a.indexOf(e.name)?h(r,t,e.name,e.value):"type"===e.name&&h(r,t,e.value)}),r.sort(function(e,r){return r.priority-e.priority}),p.live&&e.addEventListener(~["radio","checkbox"].indexOf(e.getAttribute("type"))?"change":"input",(function(e){p.validate(e.target)}).bind(p)),e.pristine={input:e,validators:r,params:t,messages:n,self:p}}).bind(p)),p.validate=function(e,r){r=e&&!0===r||!0===e;var t=p.fields;!0!==e&&!1!==e&&(e instanceof HTMLElement?t=[e.pristine]:(e instanceof NodeList||e instanceof(window.$||Array)||e instanceof Array)&&(t=Array.from(e).map(function(e){return e.pristine})));for(var n=!0,i=0;t[i];i++){var s=t[i];v(s)?r||b(s):(n=!1,r||y(s))}return n},p.getErrors=function(e){if(!e){for(var r=[],t=0;t<p.fields.length;t++){var n=p.fields[t];n.errors.length&&r.push({input:n.input,errors:n.errors})}return r}return e.tagName&&"select"===e.tagName.toLowerCase()?e.pristine.errors:e.length?e[0].pristine.errors:e.pristine.errors},p.addValidator=function(e,r,t,n,i){e instanceof HTMLElement?(e.pristine.validators.push({fn:r,msg:t,priority:n,halt:i}),e.pristine.validators.sort(function(e,r){return r.priority-e.priority})):console.warn("The parameter elem must be a dom element")},p.addError=function(e,r){(e=e.length?e[0]:e).pristine.errors.push(r),y(e.pristine)},p.reset=function(){for(var e=0;p.fields[e];e++)p.fields[e].errorElements=null;Array.from(p.form.querySelectorAll("."+s)).map(function(e){e.parentNode.removeChild(e)}),Array.from(p.form.querySelectorAll("."+p.config.classTo)).map(function(e){e.classList.remove(p.config.successClass),e.classList.remove(p.config.errorClass)})},p.destroy=function(){p.reset(),p.fields.forEach(function(e){delete e.input.pristine}),p.fields=[]},p.setGlobalConfig=function(e){i=e},p}return m("text",{fn:function e(r){return!0},priority:0}),m("required",{fn:function e(r){return"radio"===this.type||"checkbox"===this.type?t(this):void 0!==r&&""!==r.trim()},priority:99,halt:!0}),m("email",{fn:function e(r){return!r||o.test(r)}}),m("number",{fn:function e(r){return!r||!isNaN(parseFloat(r))},priority:2}),m("integer",{fn:function e(r){return!r||/^\d+$/.test(r)}}),m("minlength",{fn:function e(r,t){return!r||r.length>=parseInt(t)}}),m("maxlength",{fn:function e(r,t){return!r||r.length<=parseInt(t)}}),m("min",{fn:function e(r,n){return!r||("checkbox"===this.type?t(this)>=parseInt(n):parseFloat(r)>=parseFloat(n))}}),m("max",{fn:function e(r,n){return!r||("checkbox"===this.type?t(this)<=parseInt(n):parseFloat(r)<=parseFloat(n))}}),m("pattern",{fn:function e(r,t){var n=t.match(RegExp("^/(.*?)/([gimy]*)$"));return!r||RegExp(n[1],n[2]).test(r)}}),m("equals",{fn:function e(r,t){var n=document.querySelector(t);return n&&(!r&&!n.value||n.value===r)}}),d.addValidator=function(e,r,t,n,i){m(e,{fn:r,msg:t,priority:n,halt:i})},d.addMessages=function(r,t){var n=e.hasOwnProperty(r)?e[r]:e[r]={};Object.keys(t).forEach(function(e,r){n[e]=t[e]})},d.setLocale=function(e){f=e},d});